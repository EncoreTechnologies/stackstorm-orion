---
name: "node_create"
pack: "orion"
description: "Create Solarwinds Orion for a nodes status (e.g. up/down)."
action_ref: "orion.node_create"
formats:
  - display: "orion node create <node> ip <ip_address> [snmp <std_community>] [platform <platform>]"
    representation:
      - "orion node create {{node}} ip {{ip_address}} snmp {{std_community}} platform {{platform}}"
      - "orion node create {{node}} ip {{ip_address}} snmp {{std_community}}"
      - "orion node create {{node}} ip {{ip_address}} platform {{platform}}"
      - "orion node create {{node}} ip {{ip_address}}"
  - display: "create orion node <node> at <ip_address> [on <poller>] [with std_community]"
    representation:
      - "create orion node {{node}} at {{ip_address}} with {{std_community}} on {{platform}}"      
      - "create orion node {{node}} at {{ip_address}} with {{std_community}}"
      - "create orion node {{node}} at {{ip_address}} on {{platform}}"
      - "create orion node {{node}} at {{ip_address}}"
ack:
  enabled: true
  append_url: false
  format: "Adding {{execution.parameters.node}} to Orion for you..."
result:
  format: |
    {% if execution.status == 'succeeded' %}
    Created {{execution.parameters.node}} ({{execution.parameters.ip_address}}) on {{execution.result.result.platform}} {~}
    The NodeID is {{execution.result.result.node_id}}
    {% else %}
    Error: {{execution.result.stdout}}{~}
    See {{execution.id}} for more details.
    {% endif %}
